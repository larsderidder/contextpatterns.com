---
interface Props {
  title: string;
  description?: string;
  canonicalPath?: string;
}

const {
  title,
  description = 'Patterns, principles, and tools for context engineering. The emerging discipline of designing what information AI systems work with.',
  canonicalPath = '',
} = Astro.props;

const canonicalUrl = `https://contextpatterns.com${canonicalPath}`;
---

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{title}</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'><rect width='32' height='32' rx='6' fill='%23B8860B'/><text x='16' y='22' text-anchor='middle' font-family='serif' font-weight='700' font-size='18' fill='white'>C</text></svg>">
  <meta name="description" content={description}>
  <meta property="og:title" content={title}>
  <meta property="og:description" content={description}>
  <meta property="og:image" content="https://contextpatterns.com/og-image.png">
  <meta property="og:type" content="website">
  <meta property="og:url" content={canonicalUrl}>
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content={title}>
  <meta name="twitter:description" content={description}>
  <meta name="twitter:image" content="https://contextpatterns.com/og-image.png">
  <link rel="canonical" href={canonicalUrl}>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=Inter:wght@400;500;600;700&display=swap">
  <link href="https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <script async defer src="https://scripts.simpleanalyticscdn.com/latest.js"></script>
</head>
<body>
  <noscript><img src="https://queue.simpleanalyticscdn.com/noscript.gif" alt="" referrerpolicy="no-referrer-when-downgrade" /></noscript>

  <nav>
    <a href="/" class="nav-logo"><span>Context</span>Patterns</a>
    <ul class="nav-links">
      <li><a href="/#patterns">Patterns</a></li>
      <li><a href="/#tools">Tools</a></li>
      <li><a href="/research">Research</a></li>
    </ul>
  </nav>

  <slot />

  <footer class="site-footer">
    <span style="letter-spacing: 0.04em;"><span class="accent">Context</span>Patterns</span>.com, Lars de Ridder
  </footer>
</body>
</html>

<style is:global>
  @import '../styles/global.css';

  /* ── Nav ─────────────────────────────────────── */

  nav {
    border-bottom: 1px solid var(--border);
    padding: 0 48px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    height: 64px;
    position: sticky;
    top: 0;
    background: rgba(250, 250, 247, 0.92);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    z-index: 100;
  }

  .nav-logo {
    font-family: 'Instrument Serif', serif;
    font-size: 1.3rem;
    color: var(--text);
    text-decoration: none;
    letter-spacing: -0.01em;
  }

  .nav-logo span { color: var(--accent); }

  .nav-links {
    display: flex;
    gap: 32px;
    list-style: none;
  }

  .nav-links a {
    text-decoration: none;
    color: var(--text-secondary);
    font-size: 0.875rem;
    font-weight: 500;
    letter-spacing: 0.04em;
    text-transform: uppercase;
    transition: color 0.2s;
  }

  .nav-links a:hover { color: var(--text); text-decoration: none; }

  /* ── Footer ────────────────────────────────────── */

  footer.site-footer {
    margin-top: 80px;
    padding: 32px 48px;
    border-top: 1px solid var(--rule);
    text-align: center;
    font-size: 0.8rem;
    color: var(--text-secondary);
  }

  footer.site-footer .accent { color: var(--accent); }
</style>
